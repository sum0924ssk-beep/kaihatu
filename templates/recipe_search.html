{% extends "base.html" %}

{% block title %}期限間近のレシピ{% endblock %}

{% block content %}
<div class="container">
    <h2 class="form-title">期限が近い調味料活用レシピ</h2>

    {% if recipes %}
        <p>以下の調味料を活用できるレシピを提案します: <strong>{{ query_ingredients }}</strong></p>
        
        <div class="list-grid">
            {% for recipe in recipes %}
            <div class="item-card recipe-card">
                <img src="{{ recipe.image }}"
                     alt="{{ recipe.title }}" 
                     onerror="this.onerror=null;this.src='{{ url_for('static', path='images/no_recipe_image.png') }}';">
                     
                <div class="item-info">
                    <p>{{ recipe.title }}</p>
                    {% if recipe.used_ingredient %}
                    <p class="recipe-source">活用調味料: **{{ recipe.used_ingredient }}**</p>
                    {% endif %}
                    <a href="{{ recipe.url }}" target="_blank">レシピを見る</a>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p>{{ query_ingredients }}</p>
    {% endif %}

    <p style="margin-top: 20px;">
        <a href="/" class="footer-link">← 登録画面に戻る</a>
    </p>
</div>
{% endblock %}